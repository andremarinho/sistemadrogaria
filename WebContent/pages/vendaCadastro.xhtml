<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/template/modeloGeral.xhtml">
	<ui:define name="metadata">
		<f:metadata>
			<f:event listener="#{vendaBean.carregarProdutos}"
				type="preRenderView"></f:event>
		</f:metadata>
	</ui:define>
	<ui:define name="conteudo">



		<p:toolbar>
			<f:facet name="left">
				<p:outputLabel value="Vendas" />
			</f:facet>

		</p:toolbar>
		<p:separator></p:separator>

		<h:form>
			<p:dataTable emptyMessage="Nenhum resgistro encontrado"
				value="#{vendaBean.listaProdutos}" var="produto"
				filteredValue="#{vendaBean.listaProdutosFiltrados}" rows="4"
				paginator="true">

				<p:column headerText="Código:" style="width:7%;">
					<p:outputLabel value="#{produto.codigo}"></p:outputLabel>
				</p:column>

				<p:column headerText="Descrição:" sortBy="#{produto.descricao}"
					filterBy="#{produto.descricao}">
					<p:outputLabel value="#{produto.descricao}"></p:outputLabel>

				</p:column>

				<p:column headerText="Preço:" filterBy="#{produto.preco}"
					style="width:10%;">
					<p:outputLabel value="#{produto.preco}"></p:outputLabel>
				</p:column>

				<p:column headerText="Qtde:" filterBy="#{produto.quantidade}"
					style="width:7%">
					<p:outputLabel value="#{produto.quantidade}"></p:outputLabel>
				</p:column>

				<p:column headerText="Fabricante">
					<p:outputLabel value="#{produto.fabricante.descricao}"></p:outputLabel>

				</p:column>

				<p:column style="width: 15%;" headerText="Opções:">
					<p:commandButton value="Adcionar"
						actionListener="#{vendaBean.selecionar(produto)}" update=":fr_selecionados"></p:commandButton>
				</p:column>

			</p:dataTable>

		</h:form>


		<p:separator></p:separator>

		<h:form id="fr_selecionados">
			<p:dataTable emptyMessage="Nenhum resgistro encontrado"
				value="#{vendaBean.listaItens}" var="item" rows="4" paginator="true">

				<p:column headerText="Produto:">
					<p:outputLabel value="#{item.produto.descricao}"></p:outputLabel>
				</p:column>

				<p:column headerText="Quantidade:">
					<p:outputLabel value="#{item.quantidade}"></p:outputLabel>

				</p:column>

				<p:column headerText="Valor Parcial:">
					<p:outputLabel value="#{item.valor}"></p:outputLabel>
				</p:column>



				<p:column style="width: 15%;" headerText="Opções:">
					<p:commandButton value="Adcionar"></p:commandButton>
				</p:column>

			</p:dataTable>

		</h:form>



	</ui:define>





</ui:composition>


</html>